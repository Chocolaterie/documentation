"use strict";(self.webpackChunkschool_learn=self.webpackChunkschool_learn||[]).push([[1306],{15848:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>a});var o=s(17624),r=s(4552);const i={sidebar_position:4,title:"TP - Pok\xe9mon Microservice Mongoose",description:"TP NoSQL MicroService avec MongoDB et Mongoose"},t="TP NoSQL MicroService \u2013 Pok\xe9mon (Mongoose)",l={id:"bdd/tp/nosql/tp-04",title:"TP - Pok\xe9mon Microservice Mongoose",description:"TP NoSQL MicroService avec MongoDB et Mongoose",source:"@site/docs/bdd/tp/nosql/tp-04.md",sourceDirName:"bdd/tp/nosql",slug:"/bdd/tp/nosql/tp-04",permalink:"/documentation/docs/bdd/tp/nosql/tp-04",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/bdd/tp/nosql/tp-04.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"TP - Pok\xe9mon Microservice Mongoose",description:"TP NoSQL MicroService avec MongoDB et Mongoose"},sidebar:"tutorialSidebar",previous:{title:"TP - Pok\xe9mon (MongoDB)",permalink:"/documentation/docs/bdd/tp/nosql/tp-03"},next:{title:"TP (SQL)",permalink:"/documentation/docs/category/tp-sql"}},c={},a=[{value:"Objectif du TP",id:"objectif-du-tp",level:2},{value:"Contexte",id:"contexte",level:2},{value:"Exemple de requ\xeate avec Mongoose",id:"exemple-de-requ\xeate-avec-mongoose",level:3},{value:"Exemple avec Postman",id:"exemple-avec-postman",level:3},{value:"Organisation du TP",id:"organisation-du-tp",level:2},{value:"Niveau 1 \u2013 Cr\xe9ation compl\xe8te du microservice",id:"niveau-1--cr\xe9ation-compl\xe8te-du-microservice",level:3},{value:"Pr\xe9requis",id:"pr\xe9requis",level:4},{value:"Niveau 2 \u2013 Compl\xe9tion d\u2019un microservice existant",id:"niveau-2--compl\xe9tion-dun-microservice-existant",level:3},{value:"Installation",id:"installation",level:4},{value:"Contraintes techniques",id:"contraintes-techniques",level:2},{value:"Travail demand\xe9",id:"travail-demand\xe9",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.M)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"tp-nosql-microservice--pok\xe9mon-mongoose",children:"TP NoSQL MicroService \u2013 Pok\xe9mon (Mongoose)"}),"\n",(0,o.jsx)(n.h2,{id:"objectif-du-tp",children:"Objectif du TP"}),"\n",(0,o.jsxs)(n.p,{children:["L\u2019objectif de ce TP est de concevoir un ",(0,o.jsx)(n.strong,{children:"microservice REST"})," en ",(0,o.jsx)(n.strong,{children:"Express.js"})," capable de ",(0,o.jsx)(n.strong,{children:"retourner des donn\xe9es JSON"})," \xe0 partir d\u2019une base ",(0,o.jsx)(n.strong,{children:"MongoDB"}),", en utilisant l\u2019ODM ",(0,o.jsx)(n.strong,{children:"Mongoose"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Ce microservice sera destin\xe9 \xe0 \xeatre consomm\xe9 par un client (Postman, front-end, autre service, etc.)."}),"\n",(0,o.jsx)(n.h2,{id:"contexte",children:"Contexte"}),"\n",(0,o.jsxs)(n.p,{children:["Vous travaillez dans un environnement ",(0,o.jsx)(n.strong,{children:"Node.js / Express.js"}),", avec une base de donn\xe9es ",(0,o.jsx)(n.strong,{children:"MongoDB"})," contenant des informations li\xe9es \xe0 l\u2019univers ",(0,o.jsx)(n.strong,{children:"Pok\xe9mon"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["L\u2019acc\xe8s aux donn\xe9es se fait via ",(0,o.jsx)(n.strong,{children:"Mongoose"}),", \xe0 l\u2019aide de ",(0,o.jsx)(n.strong,{children:"mod\xe8les"})," repr\xe9sentant les collections MongoDB."]}),"\n",(0,o.jsxs)(n.p,{children:["Le microservice devra exposer plusieurs ",(0,o.jsx)(n.strong,{children:"routes HTTP"})," permettant de consulter ces donn\xe9es."]}),"\n",(0,o.jsx)(n.h3,{id:"exemple-de-requ\xeate-avec-mongoose",children:"Exemple de requ\xeate avec Mongoose"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"const pokemons = await Pokemon.find();\n"})}),"\n",(0,o.jsx)(n.h3,{id:"exemple-avec-postman",children:"Exemple avec Postman"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Screenshot",src:s(15312).c+"",width:"1214",height:"822"})}),"\n",(0,o.jsx)(n.h2,{id:"organisation-du-tp",children:"Organisation du TP"}),"\n",(0,o.jsxs)(n.p,{children:["Le TP peut \xeatre r\xe9alis\xe9 selon ",(0,o.jsx)(n.strong,{children:"deux niveaux de difficult\xe9"})," :"]}),"\n",(0,o.jsx)(n.h3,{id:"niveau-1--cr\xe9ation-compl\xe8te-du-microservice",children:"Niveau 1 \u2013 Cr\xe9ation compl\xe8te du microservice"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Initialiser un projet Node.js"}),"\n",(0,o.jsx)(n.li,{children:"Installer et configurer Express.js"}),"\n",(0,o.jsx)(n.li,{children:"Installer et configurer MongoDB + Mongoose"}),"\n",(0,o.jsx)(n.li,{children:"Cr\xe9er les sch\xe9mas et mod\xe8les Mongoose"}),"\n",(0,o.jsx)(n.li,{children:"Cr\xe9er l\u2019ensemble des routes REST"}),"\n",(0,o.jsx)(n.li,{children:"Tester les endpoints avec Postman"}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"pr\xe9requis",children:"Pr\xe9requis"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Node.js install\xe9"}),"\n",(0,o.jsx)(n.li,{children:"\xcatre \xe0 l\u2019aise en JavaScript"}),"\n",(0,o.jsx)(n.li,{children:"Comprendre les bases de MongoDB et du NoSQL"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"niveau-2--compl\xe9tion-dun-microservice-existant",children:"Niveau 2 \u2013 Compl\xe9tion d\u2019un microservice existant"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Un microservice Express.js est d\xe9j\xe0 fourni"}),"\n",(0,o.jsx)(n.li,{children:"La connexion \xe0 MongoDB est d\xe9j\xe0 configur\xe9e"}),"\n",(0,o.jsx)(n.li,{children:"Les mod\xe8les Mongoose sont d\xe9j\xe0 d\xe9finis"}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsxs)(n.strong,{children:["Votre travail consiste \xe0 compl\xe9ter le fichier ",(0,o.jsx)(n.code,{children:"routes.js"})]})}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"installation",children:"Installation"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Avoir Node.js install\xe9"}),"\n",(0,o.jsxs)(n.li,{children:["R\xe9cup\xe9rer le zip ",(0,o.jsx)(n.strong,{children:"api_pkm_mongoose"})," et le d\xe9zipper"]}),"\n",(0,o.jsxs)(n.li,{children:["Lancer ",(0,o.jsx)(n.code,{children:"npm install"})]}),"\n",(0,o.jsxs)(n.li,{children:["D\xe9marrer le projet avec ",(0,o.jsx)(n.code,{children:"node main.js"})]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"contraintes-techniques",children:"Contraintes techniques"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Langage : ",(0,o.jsx)(n.strong,{children:"JavaScript"})]}),"\n",(0,o.jsxs)(n.li,{children:["Runtime : ",(0,o.jsx)(n.strong,{children:"Node.js"})]}),"\n",(0,o.jsxs)(n.li,{children:["Framework : ",(0,o.jsx)(n.strong,{children:"Express.js"})]}),"\n",(0,o.jsxs)(n.li,{children:["Base de donn\xe9es : ",(0,o.jsx)(n.strong,{children:"MongoDB"})]}),"\n",(0,o.jsxs)(n.li,{children:["ODM : ",(0,o.jsx)(n.strong,{children:"Mongoose"})]}),"\n",(0,o.jsxs)(n.li,{children:["Format des r\xe9ponses : ",(0,o.jsx)(n.strong,{children:"JSON"})]}),"\n",(0,o.jsxs)(n.li,{children:["Test des endpoints : ",(0,o.jsx)(n.strong,{children:"Postman"})]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"travail-demand\xe9",children:"Travail demand\xe9"}),"\n",(0,o.jsxs)(n.p,{children:["En gros, il faut compl\xe9ter le fichier ",(0,o.jsx)(n.code,{children:"routes.js"})," en utilisant les ",(0,o.jsx)(n.strong,{children:"mod\xe8les Mongoose"})," fournis."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"const express = require('express');\nconst router = express.Router();\nconst { httpApiResponse } = require('./http-library');\n\n// Mod\xe8les Mongoose\nconst Pokemon = require('./models/Pokemon');\nconst Player = require('./models/Player');\nconst Ability = require('./models/Ability');\n\n/**\n * GET /pokemons\n * Retrieve all pokemon species\n */\nrouter.get('/pokemons', async (req, res) => {\n\n    const pokemons = // TODO\n\n    return httpApiResponse(res, 200, 'Pokemons retrieved successfully', pokemons);\n});\n\n/**\n * GET /players/:playerId\n * Retrieve basic player information\n */\nrouter.get('/players/:playerId', async (req, res) => {\n    const { playerId } = req.params;\n\n    const player = // TODO\n\n    if (!player) {\n        return httpApiResponse(res, 404, 'Player not found', null);\n    }\n\n    return httpApiResponse(res, 200, 'Player retrieved successfully', player);\n});\n\n/**\n * GET /players/:playerId/inventory\n * Retrieve inventory and items of a player\n */\nrouter.get('/players/:playerId/inventory', async (req, res) => {\n    const { playerId } = req.params;\n\n    const inventory = // TODO\n\n    return httpApiResponse(res, 200, 'Inventory retrieved successfully', inventory);\n});\n\n/**\n * GET /players/:playerId/pokemons\n * Retrieve all pokemons owned by a player\n */\nrouter.get('/players/:playerId/pokemons', async (req, res) => {\n    const { playerId } = req.params;\n\n    const pokemons = // TODO \n\n    return httpApiResponse(res, 200, 'Player pokemons retrieved successfully', pokemons);\n});\n\n/**\n * GET /players/:playerId/pokemons/:pokemonPlayerId\n * Retrieve full details of a specific pokemon owned by a player\n */\nrouter.get('/players/:playerId/pokemons/:pokemonPlayerId', async (req, res) => {\n    const { playerId, pokemonPlayerId } = req.params;\n\n    const pokemon = // TODO \n\n    if (!pokemon) {\n        return httpApiResponse(res, 404, 'Pokemon not found', null);\n    }\n\n    return httpApiResponse(res, 200, 'Pokemon retrieved successfully', pokemon);\n});\n\n/**\n * GET /pokemons/:pokemonId/abilities\n * Retrieve abilities available for a pokemon species\n */\nrouter.get('/pokemons/:pokemonId/abilities', async (req, res) => {\n    const { pokemonId } = req.params;\n\n    const abilities = // TODO \n\n    return httpApiResponse(res, 200, 'Pokemon abilities retrieved successfully', abilities);\n});\n\n/**\n * GET /pokemon-players/:pokemonPlayerId/abilities\n * Retrieve abilities of a pokemon owned by a player\n */\nrouter.get('/pokemon-players/:pokemonPlayerId/abilities', async (req, res) => {\n    const { pokemonPlayerId } = req.params;\n\n    const abilities = // TODO\n\n    return httpApiResponse(res, 200, 'Pokemon player abilities retrieved successfully', abilities);\n});\n\nmodule.exports = router;\n"})})]})}function p(e={}){const{wrapper:n}={...(0,r.M)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},15312:(e,n,s)=>{s.d(n,{c:()=>o});const o=s.p+"assets/images/ex_postman-4b48f3504ecddc173a923c8e1b822988.png"},4552:(e,n,s)=>{s.d(n,{I:()=>l,M:()=>t});var o=s(11504);const r={},i=o.createContext(r);function t(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);