"use strict";(self.webpackChunkschool_learn=self.webpackChunkschool_learn||[]).push([[320],{97028:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var s=r(17624),t=r(4552);const i={sidebar_position:2},o="Spring Rest API (Back)",l={id:"spring/rest_api/spring_back",title:"Spring Rest API (Back)",description:"Controlleur API",source:"@site/docs/spring/rest_api/spring_back.md",sourceDirName:"spring/rest_api",slug:"/spring/rest_api/spring_back",permalink:"/documentation/docs/spring/rest_api/spring_back",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/spring/rest_api/spring_back.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Web Service (Extra)",permalink:"/documentation/docs/category/web-service-extra"},next:{title:"JS Avanc\xe9",permalink:"/documentation/docs/category/js-avanc\xe9"}},a={},c=[{value:"Controlleur API",id:"controlleur-api",level:2},{value:"Swagger",id:"swagger",level:2},{value:"API V1 (exemple)",id:"api-v1-exemple",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.M)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"spring-rest-api-back",children:"Spring Rest API (Back)"}),"\n",(0,s.jsx)(n.h2,{id:"controlleur-api",children:"Controlleur API"}),"\n",(0,s.jsxs)(n.p,{children:["Il faut utiliser annotation ",(0,s.jsx)(n.code,{children:"@RestController"})]}),"\n",(0,s.jsx)(n.p,{children:"Le retour de tes routes correspondent au retour JSON"}),"\n",(0,s.jsx)(n.p,{children:"Donc tout ce que tu retourne est automatiquement mapp\xe9 en JSON"}),"\n",(0,s.jsx)(n.p,{children:"Tout les controlleurs Rest dans un package api (pour bien s'organiser)"}),"\n",(0,s.jsx)(n.h2,{id:"swagger",children:"Swagger"}),"\n",(0,s.jsxs)(n.p,{children:["Swagger un outil qui vous permet de tester vos ",(0,s.jsx)(n.strong,{children:"endpoint"})," (les url) sous forme d'interface web document\xe9"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Sur Postman il faut \xe9crire les urls avec les param\xe8tres manuellement"}),"\n",(0,s.jsx)(n.li,{children:"Alors que sur swagger il va lister toutes tes urls par des boutons pour les executer"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["D\xe9pendance dans ",(0,s.jsx)(n.strong,{children:"build.gradle"})," (Spring boot 3):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"// Swagger\nimplementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.3.0'\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"ne pas oublier",type:"warning",children:(0,s.jsxs)(n.p,{children:["Sur Eclipse faire ",(0,s.jsx)(n.strong,{children:"Gradle -> Refresh Gradle Project"})]})}),"\n",(0,s.jsx)(n.p,{children:"Pour consulter votre Swagger avec l'url par d\xe9faut :"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"http://localhost:8080/swagger-ui/index.html",children:"http://localhost:8080/swagger-ui/index.html"})}),"\n",(0,s.jsx)(n.h2,{id:"api-v1-exemple",children:"API V1 (exemple)"}),"\n",(0,s.jsxs)(n.p,{children:["Package ",(0,s.jsx)(n.strong,{children:"api.v1"})," au moins quelque part"]}),"\n",(0,s.jsxs)(n.p,{children:["Exemple de controlleur ",(0,s.jsx)(n.strong,{children:"Rest"})," versionn\xe9 :"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@RestController\n@RequestMapping("/api/v1/")\npublic class MoverRestController\n'})}),"\n",(0,s.jsx)(n.p,{children:"Exemple si je voulais r\xe9cup\xe9rer la liste des films dans l'url /api/v1/movies je peux avoir cette d\xe9claration de route (endpoint) :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@GetMapping("movies")\npublic List<Movie> getAllMovies(){\n    // le code qui retourne une liste de films\n    return ...;\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Si je voulais tester sur navigateur en localhost : ",(0,s.jsx)(n.code,{children:"http://localhost:8080/api/v1/movies"})]})]})}function u(e={}){const{wrapper:n}={...(0,t.M)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},4552:(e,n,r)=>{r.d(n,{I:()=>l,M:()=>o});var s=r(11504);const t={},i=s.createContext(t);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);