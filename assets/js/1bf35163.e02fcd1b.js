"use strict";(self.webpackChunkschool_learn=self.webpackChunkschool_learn||[]).push([[4888],{1852:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>a,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var i=s(7624),o=s(2172);const r={sidebar_position:3,title:"TP - Pok\xe9mon (MongoDB)",description:"TP NoSQL - Mod\xe9lisation et manipulation d\u2019une base MongoDB pour un jeu Pok\xe9mon"},d="TP NoSQL - Pok\xe9mon (MongoDB)",l={id:"bdd/tp/nosql/tp-03",title:"TP - Pok\xe9mon (MongoDB)",description:"TP NoSQL - Mod\xe9lisation et manipulation d\u2019une base MongoDB pour un jeu Pok\xe9mon",source:"@site/docs/bdd/tp/nosql/tp-03.md",sourceDirName:"bdd/tp/nosql",slug:"/bdd/tp/nosql/tp-03",permalink:"/documentation/docs/bdd/tp/nosql/tp-03",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/bdd/tp/nosql/tp-03.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"TP - Pok\xe9mon (MongoDB)",description:"TP NoSQL - Mod\xe9lisation et manipulation d\u2019une base MongoDB pour un jeu Pok\xe9mon"},sidebar:"tutorialSidebar",previous:{title:"TP 2 - Relations entre tables en NoSQL",permalink:"/documentation/docs/bdd/tp/nosql/tp-02"},next:{title:"TP - Pok\xe9mon Microservice Mongoose",permalink:"/documentation/docs/bdd/tp/nosql/tp-04"}},t={},c=[{value:"Objectif du TP",id:"objectif-du-tp",level:2},{value:"Contexte",id:"contexte",level:2},{value:"Quelques points importants de mod\xe9lisation NoSQL",id:"quelques-points-importants-de-mod\xe9lisation-nosql",level:2},{value:"Exemple de relations en NoSQL",id:"exemple-de-relations-en-nosql",level:2},{value:"Travail demand\xe9",id:"travail-demand\xe9",level:2},{value:"1. Script de nettoyage de la base de donn\xe9es",id:"1-script-de-nettoyage-de-la-base-de-donn\xe9es",level:3},{value:"2. Script de cr\xe9ation des collections",id:"2-script-de-cr\xe9ation-des-collections",level:3},{value:"3. Mod\xe9lisation des relations",id:"3-mod\xe9lisation-des-relations",level:3},{value:"4. Script d\u2019insertion de donn\xe9es de test",id:"4-script-dinsertion-de-donn\xe9es-de-test",level:3},{value:"5. Script de test (requ\xeates MongoDB)",id:"5-script-de-test-requ\xeates-mongodb",level:3}];function u(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"tp-nosql---pok\xe9mon-mongodb",children:"TP NoSQL - Pok\xe9mon (MongoDB)"}),"\n",(0,i.jsx)(n.h2,{id:"objectif-du-tp",children:"Objectif du TP"}),"\n",(0,i.jsxs)(n.p,{children:["L\u2019objectif de ce TP est de d\xe9couvrir et pratiquer les bases de ",(0,i.jsx)(n.strong,{children:"MongoDB"})," et du ",(0,i.jsx)(n.strong,{children:"NoSQL orient\xe9 document"})," \xe0 travers la mod\xe9lisation et la manipulation d\u2019une base de donn\xe9es inspir\xe9e d\u2019un jeu Pok\xe9mon."]}),"\n",(0,i.jsx)(n.p,{children:"\xc0 la fin du TP, les \xe9tudiants devront \xeatre capables :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"de comprendre les principes du NoSQL et du stockage par documents,"}),"\n",(0,i.jsx)(n.li,{children:"de mod\xe9liser des donn\xe9es avec MongoDB,"}),"\n",(0,i.jsxs)(n.li,{children:["de g\xe9rer les relations par ",(0,i.jsx)(n.strong,{children:"r\xe9f\xe9rences"})," et/ou ",(0,i.jsx)(n.strong,{children:"documents imbriqu\xe9s"}),","]}),"\n",(0,i.jsx)(n.li,{children:"d\u2019ins\xe9rer des donn\xe9es de test,"}),"\n",(0,i.jsxs)(n.li,{children:["d\u2019\xe9crire des requ\xeates MongoDB simples (",(0,i.jsx)(n.code,{children:"find"}),", ",(0,i.jsx)(n.code,{children:"aggregate"}),", etc.)."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"contexte",children:"Contexte"}),"\n",(0,i.jsx)(n.p,{children:"Le but est de mod\xe9liser une premi\xe8re partie de la base de donn\xe9es permettant de stocker :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"les Pok\xe9mon existants (esp\xe8ces),"}),"\n",(0,i.jsx)(n.li,{children:"les Pok\xe9mon poss\xe9d\xe9s par un joueur,"}),"\n",(0,i.jsx)(n.li,{children:"les comp\xe9tences,"}),"\n",(0,i.jsx)(n.li,{children:"l\u2019inventaire d\u2019un joueur."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Contrairement au SQL, MongoDB ne repose pas sur des tables et des jointures classiques, mais sur des ",(0,i.jsx)(n.strong,{children:"collections"})," et des ",(0,i.jsx)(n.strong,{children:"documents JSON"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"La finalit\xe9 du projet sera, dans un TP ult\xe9rieur (ou une d\xe9mo si le temps est insuffisant), de cr\xe9er :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"un microservice backend en Node.js utilisant MongoDB,"}),"\n",(0,i.jsx)(n.li,{children:"un frontend permettant d\u2019afficher et de modifier les donn\xe9es."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"quelques-points-importants-de-mod\xe9lisation-nosql",children:"Quelques points importants de mod\xe9lisation NoSQL"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Pokemon (collection)"}),(0,i.jsx)(n.br,{}),"\n","Cette collection repr\xe9sente les esp\xe8ces de Pok\xe9mon existantes dans le jeu.",(0,i.jsx)(n.br,{}),"\n","Exemple : Salam\xe8che, Carapuce, Bulbizarre."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Players (collection)"}),(0,i.jsx)(n.br,{}),"\n","Un joueur poss\xe8de :"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["une liste de Pok\xe9mon (",(0,i.jsx)(n.code,{children:"pokemons"}),"),"]}),"\n",(0,i.jsxs)(n.li,{children:["un inventaire (",(0,i.jsx)(n.code,{children:"inventory"}),")."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Pokemon du joueur"}),(0,i.jsx)(n.br,{}),"\n","Les Pok\xe9mon poss\xe9d\xe9s par un joueur peuvent :"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["r\xe9f\xe9rencer une esp\xe8ce de Pok\xe9mon (",(0,i.jsx)(n.code,{children:"pokemonId"}),"),"]}),"\n",(0,i.jsx)(n.li,{children:"stocker leurs propres donn\xe9es (niveau, comp\xe9tences apprises, etc.)."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Abilities (collection)"}),(0,i.jsx)(n.br,{}),"\n","Les comp\xe9tences peuvent \xeatre :"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"r\xe9f\xe9renc\xe9es depuis les Pok\xe9mon,"}),"\n",(0,i.jsx)(n.li,{children:"ou stock\xe9es directement comme identifiants dans les documents."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Un Pok\xe9mon peut apprendre plusieurs comp\xe9tences."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Le Pok\xe9mon d\u2019un joueur peut apprendre jusqu\u2019\xe0 ",(0,i.jsx)(n.strong,{children:"4 comp\xe9tences maximum"})," (r\xe8gle m\xe9tier)."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"exemple-de-relations-en-nosql",children:"Exemple de relations en NoSQL"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Un Pok\xe9mon peut apprendre plusieurs comp\xe9tences",(0,i.jsx)(n.br,{}),"\n","\u2192 tableau d\u2019identifiants ",(0,i.jsx)(n.code,{children:"abilityIds"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Une comp\xe9tence peut \xeatre apprise par plusieurs Pok\xe9mon",(0,i.jsx)(n.br,{}),"\n","\u2192 relation g\xe9r\xe9e par r\xe9f\xe9rences (pas de jointure)."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"travail-demand\xe9",children:"Travail demand\xe9"}),"\n",(0,i.jsx)(n.p,{children:"Vous devez \xe9crire les scripts MongoDB suivants, chacun dans un fichier s\xe9par\xe9 (ou dans un m\xeame fichier bien structur\xe9) :"}),"\n",(0,i.jsx)(n.h3,{id:"1-script-de-nettoyage-de-la-base-de-donn\xe9es",children:"1. Script de nettoyage de la base de donn\xe9es"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Suppression de la base existante",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"ou"})]}),"\n",(0,i.jsxs)(n.li,{children:["Suppression des collections (",(0,i.jsx)(n.code,{children:"drop()"}),")."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-script-de-cr\xe9ation-des-collections",children:"2. Script de cr\xe9ation des collections"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Cr\xe9ation des collections principales :","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"pokemons"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"abilities"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"players"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Ajout \xe9ventuel de validateurs de sch\xe9ma (",(0,i.jsx)(n.code,{children:"$jsonSchema"}),")."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-mod\xe9lisation-des-relations",children:"3. Mod\xe9lisation des relations"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Choisir entre :","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["r\xe9f\xe9rences (",(0,i.jsx)(n.code,{children:"ObjectId"}),")"]}),"\n",(0,i.jsx)(n.li,{children:"documents imbriqu\xe9s"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Justifier les choix de mod\xe9lisation."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"4-script-dinsertion-de-donn\xe9es-de-test",children:"4. Script d\u2019insertion de donn\xe9es de test"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Ins\xe9rer des donn\xe9es simples :","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"3 Pok\xe9mon (esp\xe8ces),"}),"\n",(0,i.jsx)(n.li,{children:"quelques comp\xe9tences,"}),"\n",(0,i.jsx)(n.li,{children:"1 joueur,"}),"\n",(0,i.jsx)(n.li,{children:"un inventaire minimal,"}),"\n",(0,i.jsx)(n.li,{children:"des Pok\xe9mon poss\xe9d\xe9s par le joueur avec des comp\xe9tences."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"5-script-de-test-requ\xeates-mongodb",children:"5. Script de test (requ\xeates MongoDB)"}),"\n",(0,i.jsx)(n.p,{children:"Les requ\xeates doivent permettre de :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"r\xe9cup\xe9rer les Pok\xe9mon d\u2019un joueur,"}),"\n",(0,i.jsx)(n.li,{children:"r\xe9cup\xe9rer un Pok\xe9mon sp\xe9cifique d\u2019un joueur,"}),"\n",(0,i.jsx)(n.li,{children:"r\xe9cup\xe9rer les comp\xe9tences qu\u2019un Pok\xe9mon peut apprendre,"}),"\n",(0,i.jsx)(n.li,{children:"r\xe9cup\xe9rer les comp\xe9tences apprises par un Pok\xe9mon du joueur,"}),"\n",(0,i.jsx)(n.li,{children:"r\xe9cup\xe9rer l\u2019esp\xe8ce d\u2019un Pok\xe9mon appartenant \xe0 un joueur,"}),"\n",(0,i.jsx)(n.li,{children:"r\xe9cup\xe9rer un item sp\xe9cifique dans l\u2019inventaire d\u2019un joueur."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Les requ\xeates devront utiliser :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"find"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"findOne"})}),"\n",(0,i.jsx)(n.li,{children:"projections"}),"\n",(0,i.jsxs)(n.li,{children:["\xe9ventuellement ",(0,i.jsx)(n.code,{children:"aggregate"})," pour les cas plus complexes."]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,o.M)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},2172:(e,n,s)=>{s.d(n,{I:()=>l,M:()=>d});var i=s(1504);const o={},r=i.createContext(o);function d(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);