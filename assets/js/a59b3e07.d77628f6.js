"use strict";(self.webpackChunkschool_learn=self.webpackChunkschool_learn||[]).push([[4024],{80768:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>a});var t=s(17624),i=s(4552);const r={id:"tp-nodejs-bdd-abstrait-02",title:"TP Node.js BDD - 02",sidebar_label:"TP BDD Abstrait 02"},d="TP Node.js BDD - 02",o={id:"nodejs/tp-bdd-abstrait/tp-nodejs-bdd-abstrait-02",title:"TP Node.js BDD - 02",description:"Contexte",source:"@site/docs/nodejs/tp-bdd-abstrait/tp-02.md",sourceDirName:"nodejs/tp-bdd-abstrait",slug:"/nodejs/tp-bdd-abstrait/tp-nodejs-bdd-abstrait-02",permalink:"/documentation/docs/nodejs/tp-bdd-abstrait/tp-nodejs-bdd-abstrait-02",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/nodejs/tp-bdd-abstrait/tp-02.md",tags:[],version:"current",frontMatter:{id:"tp-nodejs-bdd-abstrait-02",title:"TP Node.js BDD - 02",sidebar_label:"TP BDD Abstrait 02"},sidebar:"tutorialSidebar",previous:{title:"TP BDD Abstrait 01",permalink:"/documentation/docs/nodejs/tp-bdd-abstrait/tp-nodejs-bdd-abstrait-01"},next:{title:"TP BDD Abstrait 03",permalink:"/documentation/docs/nodejs/tp-bdd-abstrait/tp-nodejs-bdd-abstrait-03"}},l={},a=[{value:"Contexte",id:"contexte",level:2},{value:"Fonctionnalit\xe9s / Am\xe9liorations",id:"fonctionnalit\xe9s--am\xe9liorations",level:2},{value:"Logs",id:"logs",level:2},{value:"Tests unitaires",id:"tests-unitaires",level:2},{value:"JWT",id:"jwt",level:2}];function c(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.M)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"tp-nodejs-bdd---02",children:"TP Node.js BDD - 02"}),"\n",(0,t.jsx)(n.h2,{id:"contexte",children:"Contexte"}),"\n",(0,t.jsxs)(n.p,{children:["Ce TP est un bonus : il demande plus d'autonomie.",(0,t.jsx)(n.br,{}),"\n","\xc0 vous de g\xe9rer les informations \xe0 retourner ainsi que la logique m\xe9tier."]}),"\n",(0,t.jsx)(n.p,{children:"Essayez d'int\xe9grer les fonctionnalit\xe9s demand\xe9es de mani\xe8re autonome en vous aidant de ressources sur Internet."}),"\n",(0,t.jsx)(n.p,{children:"Si vous utilisez de l'IA (ChatGPT par exemple), vous devez :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Comprendre le code g\xe9n\xe9r\xe9"}),"\n",(0,t.jsx)(n.li,{children:"L'adapter \xe0 votre projet"}),"\n",(0,t.jsx)(n.li,{children:"\xcatre capable de l'expliquer"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"fonctionnalit\xe9s--am\xe9liorations",children:"Fonctionnalit\xe9s / Am\xe9liorations"}),"\n",(0,t.jsx)(n.p,{children:"Pour aller plus loin, vous pouvez ajouter :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Des logs \xe0 chaque retour m\xe9tier"}),"\n",(0,t.jsxs)(n.li,{children:["Des tests unitaires et/ou fonctionnels pour :","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Faire du test de non-r\xe9gression"}),"\n",(0,t.jsx)(n.li,{children:"Pr\xe9parer la couverture de code"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Un syst\xe8me d'authentification JWT"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"logs",children:"Logs"}),"\n",(0,t.jsxs)(n.p,{children:["Comme dans la d\xe9mo, utilisez le package ",(0,t.jsx)(n.strong,{children:"winston"})," pour g\xe9rer les logs."]}),"\n",(0,t.jsx)(n.h2,{id:"tests-unitaires",children:"Tests unitaires"}),"\n",(0,t.jsxs)(n.p,{children:["Comme dans la d\xe9mo, utilisez le package ",(0,t.jsx)(n.strong,{children:"jest"})," pour mettre en place les tests."]}),"\n",(0,t.jsx)(n.p,{children:"Pour les tests, il est recommand\xe9 de cr\xe9er une version Mock du DAO qui ne d\xe9pend pas d'une base de donn\xe9es."}),"\n",(0,t.jsx)(n.p,{children:"Exemple :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"DAOArticleMock"})," (donn\xe9es stock\xe9es en m\xe9moire JavaScript)"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:['Cette impl\xe9mentation peut servir de DAO "fallback" par d\xe9faut si aucun fichier ',(0,t.jsx)(n.code,{children:".env"})," ou configuration sp\xe9cifique n'est d\xe9fini (notamment dans le cadre des tests)."]}),"\n",(0,t.jsx)(n.p,{children:"Cela permet :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"De tester la logique m\xe9tier sans d\xe9pendance externe"}),"\n",(0,t.jsx)(n.li,{children:"D'\xe9viter les connexions \xe0 une base r\xe9elle"}),"\n",(0,t.jsx)(n.li,{children:"De faciliter les tests de non-r\xe9gression"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"jwt",children:"JWT"}),"\n",(0,t.jsx)(n.p,{children:"Mettre en place :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Une route de connexion:"})," Retourne un token JWT si le couple email / mot de passe est valide"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Un middleware d'authentification:"})," V\xe9rifie que le token envoy\xe9 dans le header ",(0,t.jsx)(n.code,{children:"Authorization"})," est valide"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Ce middleware devra pouvoir \xeatre inject\xe9 dans certaines routes prot\xe9g\xe9es comme :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Cr\xe9er un article"}),"\n",(0,t.jsx)(n.li,{children:"Modifier un article"}),"\n",(0,t.jsx)(n.li,{children:"Supprimer un article"}),"\n"]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.M)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},4552:(e,n,s)=>{s.d(n,{I:()=>o,M:()=>d});var t=s(11504);const i={},r=t.createContext(i);function d(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);