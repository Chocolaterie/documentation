"use strict";(self.webpackChunkschool_learn=self.webpackChunkschool_learn||[]).push([[4240],{3560:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var o=r(7624),s=r(2172);const a={sidebar_position:1},t="Sonar",i={id:"general/sonar",title:"Sonar",description:"Nous verrons une utilisation vulgaris\xe9e et classique de SonarQube et Sonar Scanner, enti\xe8rement en local (localhost), afin de comprendre d'abord son fonctionnement natif.",source:"@site/docs/general/sonar.md",sourceDirName:"general",slug:"/general/sonar",permalink:"/documentation/docs/general/sonar",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/general/sonar.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"General",permalink:"/documentation/docs/category/general"},next:{title:"Tutorial Intro",permalink:"/documentation/docs/intro"}},c={},l=[{value:"SonarQube",id:"sonarqube",level:2},{value:"Token SonarQube",id:"token-sonarqube",level:3},{value:"Sonar Scanner",id:"sonar-scanner",level:2},{value:"Analyser un projet",id:"analyser-un-projet",level:2},{value:"Avec sonar-project.properties",id:"avec-sonar-projectproperties",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.M)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"sonar",children:"Sonar"}),"\n",(0,o.jsx)(n.p,{children:"Nous verrons une utilisation vulgaris\xe9e et classique de SonarQube et Sonar Scanner, enti\xe8rement en local (localhost), afin de comprendre d'abord son fonctionnement natif."}),"\n",(0,o.jsx)(n.h2,{id:"sonarqube",children:"SonarQube"}),"\n",(0,o.jsx)(n.p,{children:"SonarQube est un ensemble de solutions pour l'analyse de code, d\xe9velopp\xe9 en Java. Par cons\xe9quent, il est n\xe9cessaire d'installer Java (version 11 minimum). Vous pouvez tester SonarQube en local (localhost) apr\xe8s installation."}),"\n",(0,o.jsxs)(n.p,{children:["Lien de t\xe9l\xe9chargement : ",(0,o.jsx)(n.a,{href:"https://www.sonarsource.com/products/sonarqube/downloads/",children:"https://www.sonarsource.com/products/sonarqube/downloads/"})]}),"\n",(0,o.jsx)(n.p,{children:"D\xe9compressez-le \xe0 l'emplacement souhait\xe9 et lancez l'ex\xe9cutable correspondant \xe0 votre plateforme."}),"\n",(0,o.jsx)(n.p,{children:"Par exemple, sous Windows, il faut lancer le script StartSonar.bat situ\xe9 dans le dossier bin/windows-x86-64."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"StartSonar.bat\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Cela peut prendre quelques minutes. Une fois pr\xeat, vous pouvez acc\xe9der \xe0 l'interface d'administration via le port par d\xe9faut 9000 (",(0,o.jsx)(n.a,{href:"http://localhost:9000",children:"http://localhost:9000"}),")."]}),"\n",(0,o.jsx)(n.p,{children:"Les identifiants de connexion par d\xe9faut sont :"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Nom d'utilisateur : admin"}),"\n",(0,o.jsx)(n.li,{children:"Mot de passe : admin"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Remarque importante : SonarQube ne scanne pas directement le code. Pour cela, vous devrez utiliser un autre outil appel\xe9 Sonar Scanner."}),"\n",(0,o.jsx)(n.h3,{id:"token-sonarqube",children:"Token SonarQube"}),"\n",(0,o.jsxs)(n.p,{children:["Il faut cr\xe9er un projet dans SonarQube pour g\xe9n\xe9rer ensuite un ",(0,o.jsx)(n.strong,{children:"token"}),", qui nous sera utile par la suite."]}),"\n",(0,o.jsx)(n.h2,{id:"sonar-scanner",children:"Sonar Scanner"}),"\n",(0,o.jsx)(n.p,{children:"Vous devez t\xe9l\xe9charger Sonar Scanner, puis il est recommand\xe9 de l'ajouter \xe0 la variable d'environnement Path de votre syst\xe8me pour pouvoir l'utiliser globalement en ligne de commande."}),"\n",(0,o.jsxs)(n.p,{children:["Lien de t\xe9l\xe9chargement : ",(0,o.jsx)(n.a,{href:"https://docs.sonarsource.com/sonarqube/9.7/analyzing-source-code/scanners/sonarscanner/",children:"https://docs.sonarsource.com/sonarqube/9.7/analyzing-source-code/scanners/sonarscanner/"})]}),"\n",(0,o.jsx)(n.p,{children:"En g\xe9n\xe9ral, l'outil Sonar Scanner se trouve dans le dossier /bin. En sp\xe9cifiant ce dossier dans la variable Path, vous pourrez utiliser la commande sonar-scanner directement depuis n'importe quel r\xe9pertoire."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"sonar-scanner\n"})}),"\n",(0,o.jsx)(n.p,{children:"Cela vous permettra d'analyser facilement votre code source avec SonarQube."}),"\n",(0,o.jsx)(n.h2,{id:"analyser-un-projet",children:"Analyser un projet"}),"\n",(0,o.jsx)(n.p,{children:"Il faut ex\xe9cuter la commande sonar-scanner depuis la racine de votre projet contenant le code."}),"\n",(0,o.jsx)(n.p,{children:"Vous avez deux choix :"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Ex\xe9cuter la commande avec tous les param\xe8tres en ligne de commande (cmd)"}),"\n",(0,o.jsx)(n.li,{children:"Ex\xe9cuter la commande avec un fichier sonar-project.properties situ\xe9 dans la racine du projet"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"avec-sonar-projectproperties",children:"Avec sonar-project.properties"}),"\n",(0,o.jsx)(n.p,{children:"Exemple avec un fichier sonar-project.properties :"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"sonar.projectKey=mon-projet\nsonar.sources=src\nsonar.host.url=http://localhost:9000\nsonar.login=monjeton\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"sonar.sources : Le dossier qui contient le code \xe0 analyser de mani\xe8re r\xe9cursive"}),"\n",(0,o.jsx)(n.li,{children:"sonar.login : Le token g\xe9n\xe9r\xe9 via votre interface d'administration SonarQube"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Enfin lancer le scan :"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"sonar-scanner\n"})})]})}function u(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},2172:(e,n,r)=>{r.d(n,{I:()=>i,M:()=>t});var o=r(1504);const s={},a=o.createContext(s);function t(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);