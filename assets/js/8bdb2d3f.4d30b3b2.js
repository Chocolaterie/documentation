"use strict";(self.webpackChunkschool_learn=self.webpackChunkschool_learn||[]).push([[5952],{95212:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>a});var i=t(17624),s=t(4552);const r={id:"tp-nodejs-bdd-abstrait-04",title:"TP Node.js BDD - 04",sidebar_label:"TP BDD Abstrait 04"},o="TP Node.js BDD - 04",l={id:"nodejs/tp-bdd-abstrait/tp-nodejs-bdd-abstrait-04",title:"TP Node.js BDD - 04",description:"Contexte",source:"@site/docs/nodejs/tp-bdd-abstrait/tp-04.md",sourceDirName:"nodejs/tp-bdd-abstrait",slug:"/nodejs/tp-bdd-abstrait/tp-nodejs-bdd-abstrait-04",permalink:"/documentation/docs/nodejs/tp-bdd-abstrait/tp-nodejs-bdd-abstrait-04",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/nodejs/tp-bdd-abstrait/tp-04.md",tags:[],version:"current",frontMatter:{id:"tp-nodejs-bdd-abstrait-04",title:"TP Node.js BDD - 04",sidebar_label:"TP BDD Abstrait 04"},sidebar:"tutorialSidebar",previous:{title:"TP BDD Abstrait 03",permalink:"/documentation/docs/nodejs/tp-bdd-abstrait/tp-nodejs-bdd-abstrait-03"},next:{title:"Java Spring Security (Avanc\xe9)",permalink:"/documentation/docs/category/java-spring-security-avanc\xe9"}},d={},a=[{value:"Contexte",id:"contexte",level:2},{value:"Version 1 - D\xe9ploiement simple",id:"version-1---d\xe9ploiement-simple",level:2},{value:"Version 2 - S\xe9paration CI / CD",id:"version-2---s\xe9paration-ci--cd",level:2},{value:"CI (Continuous Integration)",id:"ci-continuous-integration",level:3},{value:"CD (Continuous Deployment)",id:"cd-continuous-deployment",level:3},{value:"Version 3 - Red\xe9marrage automatique du serveur",id:"version-3---red\xe9marrage-automatique-du-serveur",level:2},{value:"Astuce",id:"astuce",level:3},{value:"Version 4 - Int\xe9gration Sonar et contr\xf4le qualit\xe9",id:"version-4---int\xe9gration-sonar-et-contr\xf4le-qualit\xe9",level:2}];function c(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.M)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"tp-nodejs-bdd---04",children:"TP Node.js BDD - 04"}),"\n",(0,i.jsx)(n.h2,{id:"contexte",children:"Contexte"}),"\n",(0,i.jsx)(n.p,{children:"Ce TP est un bonus et demande davantage d'autonomie."}),"\n",(0,i.jsxs)(n.p,{children:["Vous allez mettre en place un d\xe9ploiement automatique de votre projet via ",(0,i.jsx)(n.strong,{children:"GitHub Actions"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Des indications plus d\xe9taill\xe9es seront fournies pour vous accompagner dans la r\xe9alisation des diff\xe9rentes \xe9tapes."}),"\n",(0,i.jsx)(n.h2,{id:"version-1---d\xe9ploiement-simple",children:"Version 1 - D\xe9ploiement simple"}),"\n",(0,i.jsx)(n.p,{children:"Mettre en place un d\xe9ploiement automatique classique via GitHub Actions, sans s\xe9paration des responsabilit\xe9s."}),"\n",(0,i.jsx)(n.p,{children:"L'ensemble des \xe9tapes (installation, build, d\xe9ploiement) est ex\xe9cut\xe9 dans un seul job."}),"\n",(0,i.jsx)(n.p,{children:"Objectif :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Comprendre le fonctionnement global d'un workflow GitHub Actions"}),"\n",(0,i.jsx)(n.li,{children:"D\xe9ployer automatiquement votre application Express"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"version-2---s\xe9paration-ci--cd",children:"Version 2 - S\xe9paration CI / CD"}),"\n",(0,i.jsx)(n.p,{children:"S\xe9parer le workflow en deux jobs distincts :"}),"\n",(0,i.jsx)(n.h3,{id:"ci-continuous-integration",children:"CI (Continuous Integration)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Installation des d\xe9pendances"}),"\n",(0,i.jsx)(n.li,{children:"Ex\xe9cution des tests"}),"\n",(0,i.jsx)(n.li,{children:"V\xe9rification du code"}),"\n",(0,i.jsx)(n.li,{children:"G\xe9n\xe9ration d'un artifact t\xe9l\xe9chargeable du projet"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\xc0 la fin du job CI, le projet est export\xe9 sous forme d'",(0,i.jsx)(n.strong,{children:"artifact"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"cd-continuous-deployment",children:"CD (Continuous Deployment)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"T\xe9l\xe9chargement de l'artifact g\xe9n\xe9r\xe9 par le job CI"}),"\n",(0,i.jsx)(n.li,{children:"D\xe9ploiement de l'application sur votre serveur"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Objectif :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Comprendre la s\xe9paration des responsabilit\xe9s entre int\xe9gration et d\xe9ploiement"}),"\n",(0,i.jsx)(n.li,{children:"Structurer un pipeline professionnel"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"version-3---red\xe9marrage-automatique-du-serveur",children:"Version 3 - Red\xe9marrage automatique du serveur"}),"\n",(0,i.jsxs)(n.p,{children:["Dans le job ",(0,i.jsx)(n.strong,{children:"CD"}),", ajouter un script Linux permettant de red\xe9marrer automatiquement votre serveur Express apr\xe8s le d\xe9ploiement."]}),"\n",(0,i.jsx)(n.h3,{id:"astuce",children:"Astuce"}),"\n",(0,i.jsx)(n.p,{children:"Cr\xe9er un script (ou un service Linux) charg\xe9 de g\xe9rer le red\xe9marrage de votre backend Express.js."}),"\n",(0,i.jsx)(n.p,{children:"Exemples possibles :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Utilisation de ",(0,i.jsx)(n.code,{children:"pm2"})]}),"\n",(0,i.jsxs)(n.li,{children:["Cr\xe9ation d'un service ",(0,i.jsx)(n.code,{children:"systemd"})]}),"\n",(0,i.jsx)(n.li,{children:"Script bash personnalis\xe9"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Objectif :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Automatiser compl\xe8tement le cycle de d\xe9ploiement"}),"\n",(0,i.jsx)(n.li,{children:"\xc9viter toute intervention manuelle sur le serveur"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"version-4---int\xe9gration-sonar-et-contr\xf4le-qualit\xe9",children:"Version 4 - Int\xe9gration Sonar et contr\xf4le qualit\xe9"}),"\n",(0,i.jsxs)(n.p,{children:["Dans le job ",(0,i.jsx)(n.strong,{children:"CI"})," :"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ajouter l'analyse SonarQube"}),"\n",(0,i.jsx)(n.li,{children:"G\xe9n\xe9rer le rapport de qualit\xe9 et de couverture de code"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Mettre en place une r\xe8gle bloquante :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Annuler le d\xe9ploiement si la couverture de code n'atteint pas 100 %"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Objectif :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Int\xe9grer un contr\xf4le qualit\xe9 dans la cha\xeene CI/CD"}),"\n",(0,i.jsxs)(n.li,{children:["Comprendre la notion de ",(0,i.jsx)(n.em,{children:"Quality Gate"})]}),"\n",(0,i.jsx)(n.li,{children:"Emp\xeacher le d\xe9ploiement d'un code ne respectant pas les crit\xe8res d\xe9finis"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},4552:(e,n,t)=>{t.d(n,{I:()=>l,M:()=>o});var i=t(11504);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);